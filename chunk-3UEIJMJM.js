import{Da as o,Ea as a,Pa as d,Sa as n,Za as l,ea as h,gc as u,ha as r,ic as c,mc as f}from"./chunk-PEOUL2L6.js";var m="padding",b='[role="main"]',v={containerSelector:b,cssAttribute:m},S=new h("[ngxFixedFooter] Options"),A=i=>({provide:S,useValue:{cssAttribute:i.cssAttribute||m,containerSelector:i.containerSelector||b}}),E=(()=>{class i{constructor(){this.document=r(f),this.el=r(a),this.render=r(d),this.options=r(S,{optional:!0})||v,this.hasResizeObserver=typeof ResizeObserver<"u",this.offsetHeight=n(void 0),this.resizeObserver=n(void 0),this.prevContainerSelector=n(void 0),this.containerSelector=o(this.options.containerSelector),this.cssAttribute=o(this.options.cssAttribute),this.container=u(()=>{let e=this.containerSelector()||this.options.containerSelector;return this.document.body.querySelector(e)}),c(()=>{if(!this.hasResizeObserver||!this.document)return;let e=this.cssAttribute(),t=this.containerSelector();if(t){let s=this.prevContainerSelector();s&&s!==t&&this.removeStyle(this.document.body.querySelector(s),e),this.setStyle(this.document.body.querySelector(t),e,this.offsetHeight()),this.prevContainerSelector.set(t)}},{allowSignalWrites:!0}),c(()=>{if(!this.hasResizeObserver||!this.document)return;let e=this.cssAttribute();if(e){let t=this.container();this.removeStyle(t,e==="padding"?"margin":"padding"),this.setStyle(t,e,this.offsetHeight())}})}ngOnInit(){this.hasResizeObserver&&this.document&&new ResizeObserver(()=>this.checkHeight()).observe(this.html)}ngOnDestroy(){this.resizeObserver()&&this.document&&(this.removeStyle(this.container(),this.cssAttribute()),this.resizeObserver().unobserve(this.html))}checkHeight(){let e=this.html.offsetHeight;this.offsetHeight()!==e&&(this.setStyle(this.container(),this.cssAttribute(),e),this.offsetHeight.set(e))}removeStyle(e,t){if(!e)throw new Error("Cannot removeStyle to undefined container");this.render.setStyle(e,`${t}-bottom`,"")}setStyle(e,t,s){if(!e)throw new Error("Cannot setStyle to undefined container");this.render.setStyle(e,`${t}-bottom`,s===0?"":`${s}px`)}get html(){return this.el.nativeElement}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=l({type:i,selectors:[["","ngxFixedFooter",""]],inputs:{containerSelector:[1,"containerSelector"],cssAttribute:[1,"cssAttribute"]}})}}return i})();var T={version:"0.0.0",date:"2024-11-13T19:14:14.295Z",author:{name:"Dominik Hlad\xEDk",email:"dominik.hladik@seznam.cz",url:"https://github.com/Celtian"},git:{branch:"master",commit:"0f3f51913de5098d8bad7e4f8c546a3bf0db656b"}};export{A as a,E as b,T as c};
