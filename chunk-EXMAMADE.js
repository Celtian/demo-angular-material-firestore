import{a as ft,b as xt,c as ht}from"./chunk-AB5ILHOS.js";import{a as rt}from"./chunk-YQ7WFSG6.js";import{c as ot}from"./chunk-LVDNW732.js";import"./chunk-4CYMFQ55.js";import{a as ct,b as pt,c as lt,d as st,e as mt,f as ut}from"./chunk-XU3K4MMF.js";import{a as it}from"./chunk-ERMFD4D4.js";import{a as dt}from"./chunk-JADWWDIP.js";import{e as g,g as Q}from"./chunk-KZZ6WVID.js";import"./chunk-DFMYIP6B.js";import{a as V,b as q,d as H,f as G,i as J,j as K,o as Z,p as $,q as tt,r as et}from"./chunk-FE6K5YNT.js";import"./chunk-DSYF4QHV.js";import{a as at,b as nt}from"./chunk-VUZ3B7TP.js";import{$a as C,Ab as I,Eb as B,Gb as F,Hb as k,Ib as N,Id as W,Jb as o,Jd as X,Kb as r,Kd as Y,Ma as i,Na as m,Ob as j,Pa as O,Pb as L,Qa as w,Rb as U,W as M,Ya as v,Za as h,db as S,eb as x,ha as D,ia as T,ib as d,jb as p,kb as P,na as b,oa as y,ob as E,qc as z,rc as A,sb as R,ub as f,yb as l,zb as u}from"./chunk-NRVZXI7R.js";import"./chunk-OYL2YZNW.js";var St=(t,a,e)=>[t,a,e];function Pt(t,a){if(t&1){let e=E();d(0,"div",2)(1,"button",3),R("deleted",function(){b(e);let c=f(2);return y(c.onDeleted())}),l(2),o(3,"translate"),p(),d(4,"a",4),o(5,"localize"),o(6,"localize"),l(7),o(8,"translate"),p()()}if(t&2){let e=f(2);i(1),h("appPostDelete",e.dataSource.data().id),i(1),I(" ",r(3,4,"uni.delete")," "),i(2),h("routerLink",N(12,St,r(5,6,"/"+e.ROUTE_DEFINITION.APP.POSTS),e.dataSource.data().id,r(6,8,e.ROUTE_DEFINITION.POSTS.EDIT))),i(3),u(r(8,10,"uni.edit"))}}function gt(t,a){if(t&1&&(S(0,Pt,9,16,"div",1),d(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),l(4),p(),d(5,"mat-card-title"),l(6),o(7,"uppercase"),p()(),d(8,"mat-card-content")(9,"p"),l(10),p()()()),t&2){let e=f();x(0,e.dataSource.state()==="data"?0:-1),i(3),C("blur-sm",e.dataSource.state()==="loading"),i(1),u("#"+e.dataSource.data().id),i(1),C("blur-sm",e.dataSource.state()==="loading"),i(1),u(r(7,10,e.dataSource.data().title)),i(3),C("blur-sm",e.dataSource.state()==="loading"),i(1),I(" ",e.dataSource.data().body," ")}}function It(t,a){if(t&1&&(d(0,"mat-card")(1,"mat-card-content",5),P(2,"mat-icon",6),o(3,"translate"),d(4,"div"),l(5),p()()()),t&2){let e=f();i(2),v("aria-label",r(3,2,"uni.aria-label.error-icon")),i(3),u(e.dataSource.error())}}function Mt(t,a){t&1&&(d(0,"mat-card")(1,"mat-card-content",5),P(2,"mat-icon",7),o(3,"translate"),d(4,"div"),l(5),o(6,"translate"),p()()()),t&2&&(i(2),v("aria-label",r(3,2,"uni.aria-label.warning-icon")),i(3),u(r(6,4,"error.post-was-not-found")))}var Dt=(t,a)=>[t,a];function Tt(t,a){if(t&1&&(P(0,"mat-icon",9),o(1,"translate"),d(2,"a",4),o(3,"localize"),l(4),p()),t&2){let e=f(2);v("aria-label",r(1,3,"uni.aria-label.arrow-icon")),i(2),h("routerLink",k(7,Dt,r(3,5,"/"+e.ROUTE_DEFINITION.APP.POSTS),e.dataSource.data().id)),i(2),u(e.dataSource.data().id)}}var bt=t=>[t];function yt(t,a){if(t&1&&(d(0,"div",8)(1,"a",4),o(2,"localize"),l(3),o(4,"translate"),p(),S(5,Tt,5,10),p()),t&2){let e=f();i(1),h("routerLink",F(7,bt,r(2,3,"/"+e.ROUTE_DEFINITION.APP.POSTS))),i(2),u(r(4,5,"breadcrumbs.app.posts")),i(2),x(5,e.dataSource.state()==="data"?5:-1)}}var oe=(()=>{let a=class a{constructor(n,c,s,_,_t,vt,Ct){this.route=n,this.apiService=c,this.breadcrumbsPortalService=s,this.cdr=_,this.translate=_t,this.router=vt,this.lr=Ct,this.destroyRef=D(w),this.dataSource=new ft(xt),this.ROUTE_DEFINITION=et}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){setTimeout(()=>{this.breadcrumbsPortalService.setPortal(this.portalContent),this.cdr.markForCheck()}),this.route.paramMap.pipe(ht(),M(n=>this.apiService.detail(n)),it(this.destroyRef)).subscribe({next:n=>{this.dataSource.setData(n)},error:()=>{let n=this.translate.instant("error.unexpected-exception");this.dataSource.setError(n)}})}onDeleted(){let n=this.lr.translateRoute("/");this.router.navigate([n])}};a.\u0275fac=function(c){return new(c||a)(m(G),m(ot),m(dt),m(O),m(W),m(J),m(Z))},a.\u0275cmp=T({type:a,selectors:[["app-post-detail"]],viewQuery:function(c,s){if(c&1&&L(g,7),c&2){let _;j(_=U())&&(s.portalContent=_.first)}},standalone:!0,features:[B],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"appPostDelete","deleted"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","fontIcon","error"],["aria-hidden","false","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","fontIcon","chevron_right"]],template:function(c,s){c&1&&S(0,gt,11,12,"mat-card")(1,It,6,4,"mat-card")(2,Mt,7,6,"mat-card")(3,yt,6,9,"div",0),c&2&&(x(0,s.dataSource.state()==="data"||s.dataSource.state()==="loading"?0:-1),i(1),x(1,s.dataSource.state()==="error"?1:-1),i(1),x(2,s.dataSource.state()==="empty"?2:-1))},dependencies:[A,z,K,Y,X,tt,$,nt,at,H,q,V,ut,ct,lt,mt,st,pt,Q,g,rt],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let t=a;return t})();export{oe as PostDetailComponent};
