import{a as ut,b as ft,c as xt}from"./chunk-AB5ILHOS.js";import{a as nt}from"./chunk-YQ7WFSG6.js";import{c as ot}from"./chunk-LVDNW732.js";import"./chunk-4CYMFQ55.js";import{a as dt,b as ct,c as pt,d as lt,e as mt,f as st}from"./chunk-XU3K4MMF.js";import{a as et}from"./chunk-ERMFD4D4.js";import{a as rt}from"./chunk-JADWWDIP.js";import{e as P,g as z}from"./chunk-KZZ6WVID.js";import"./chunk-DFMYIP6B.js";import{a as Q,b as V,d as q,f as H,i as W,j as G,o as Y,p as Z,q as $,r as tt}from"./chunk-FE6K5YNT.js";import"./chunk-DSYF4QHV.js";import{a as it,b as at}from"./chunk-VUZ3B7TP.js";import{$a as v,Ab as g,Eb as R,Gb as F,Hb as k,Ib as B,Id as J,Jb as p,Jd as K,Kb as l,Kd as X,Ma as i,Na as s,Ob as N,Pa as O,Pb as j,Qa as w,Rb as L,W as I,Za as h,db as C,eb as x,ha as M,ia as D,ib as n,jb as d,kb as S,na as T,oa as y,ob as E,qc as U,rc as A,sb as b,ub as f,yb as c,zb as u}from"./chunk-NRVZXI7R.js";import"./chunk-OYL2YZNW.js";var Ct=(t,a,e)=>[t,a,e];function St(t,a){if(t&1){let e=E();n(0,"div",2)(1,"button",3),b("deleted",function(){T(e);let r=f(2);return y(r.onDeleted())}),c(2),p(3,"translate"),d(),n(4,"a",4),p(5,"localize"),p(6,"localize"),c(7),p(8,"translate"),d()()}if(t&2){let e=f(2);i(1),h("appPostDelete",e.dataSource.data().id),i(1),g(" ",l(3,4,"uni.delete")," "),i(2),h("routerLink",B(12,Ct,l(5,6,"/"+e.ROUTE_DEFINITION.APP.POSTS),e.dataSource.data().id,l(6,8,e.ROUTE_DEFINITION.POSTS.EDIT))),i(3),u(l(8,10,"uni.edit"))}}function Pt(t,a){if(t&1&&(C(0,St,9,16,"div",1),n(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),c(4),d(),n(5,"mat-card-title"),c(6),p(7,"uppercase"),d()(),n(8,"mat-card-content")(9,"p"),c(10),d()()()),t&2){let e=f();x(0,e.dataSource.state()==="data"?0:-1),i(3),v("blur-sm",e.dataSource.state()==="loading"),i(1),u("#"+e.dataSource.data().id),i(1),v("blur-sm",e.dataSource.state()==="loading"),i(1),u(l(7,10,e.dataSource.data().title)),i(3),v("blur-sm",e.dataSource.state()==="loading"),i(1),g(" ",e.dataSource.data().body," ")}}function gt(t,a){if(t&1&&(n(0,"mat-card")(1,"mat-card-content",5),S(2,"mat-icon",6),n(3,"div"),c(4),d()()()),t&2){let e=f();i(4),u(e.dataSource.error())}}function It(t,a){t&1&&(n(0,"mat-card")(1,"mat-card-content",5),S(2,"mat-icon",7),n(3,"div"),c(4),p(5,"translate"),d()()()),t&2&&(i(4),u(l(5,1,"error.post-was-not-found")))}var Mt=(t,a)=>[t,a];function Dt(t,a){if(t&1&&(S(0,"mat-icon",9),n(1,"a",4),p(2,"localize"),c(3),d()),t&2){let e=f(2);i(1),h("routerLink",k(4,Mt,l(2,2,"/"+e.ROUTE_DEFINITION.APP.POSTS),e.dataSource.data().id)),i(2),u(e.dataSource.data().id)}}var Tt=t=>[t];function yt(t,a){if(t&1&&(n(0,"div",8)(1,"a",4),p(2,"localize"),c(3),p(4,"translate"),d(),C(5,Dt,4,7),d()),t&2){let e=f();i(1),h("routerLink",F(7,Tt,l(2,3,"/"+e.ROUTE_DEFINITION.APP.POSTS))),i(2),u(l(4,5,"breadcrumbs.app.posts")),i(2),x(5,e.dataSource.state()==="data"?5:-1)}}var oe=(()=>{let a=class a{constructor(o,r,m,_,ht,_t,vt){this.route=o,this.apiService=r,this.breadcrumbsPortalService=m,this.cdr=_,this.translate=ht,this.router=_t,this.lr=vt,this.destroyRef=M(w),this.dataSource=new ut(ft),this.ROUTE_DEFINITION=tt}ngOnDestroy(){this.portalContent?.detach()}ngOnInit(){setTimeout(()=>{this.breadcrumbsPortalService.setPortal(this.portalContent),this.cdr.markForCheck()}),this.route.paramMap.pipe(xt(),I(o=>this.apiService.detail(o)),et(this.destroyRef)).subscribe({next:o=>{this.dataSource.setData(o)},error:()=>{let o=this.translate.instant("error.unexpected-exception");this.dataSource.setError(o)}})}onDeleted(){let o=this.lr.translateRoute("/");this.router.navigate([o])}};a.\u0275fac=function(r){return new(r||a)(s(H),s(ot),s(rt),s(O),s(J),s(W),s(Y))},a.\u0275cmp=D({type:a,selectors:[["app-post-detail"]],viewQuery:function(r,m){if(r&1&&j(P,7),r&2){let _;N(_=L())&&(m.portalContent=_.first)}},standalone:!0,features:[R],decls:4,vars:3,consts:[["class","container flex items-center gap-1 py-4",4,"cdkPortal"],["class","flex items-end justify-end gap-2"],[1,"flex","items-end","justify-end","gap-2"],["mat-button","","color","accent",3,"appPostDelete","deleted"],["mat-button","","color","primary",3,"routerLink"],[1,"flex","flex-col","gap-2","text-center"],["aria-hidden","false","aria-label","Error icon","fontIcon","error"],["aria-hidden","false","aria-label","Warning icon","fontIcon","warning"],[1,"container","flex","items-center","gap-1","py-4"],["aria-hidden","false","aria-label","Arrow icon","fontIcon","chevron_right"]],template:function(r,m){r&1&&C(0,Pt,11,12,"mat-card")(1,gt,5,1,"mat-card")(2,It,6,3,"mat-card")(3,yt,6,9,"div",0),r&2&&(x(0,m.dataSource.state()==="data"||m.dataSource.state()==="loading"?0:-1),i(1),x(1,m.dataSource.state()==="error"?1:-1),i(1),x(2,m.dataSource.state()==="empty"?2:-1))},dependencies:[A,U,G,X,K,$,Z,at,it,q,V,Q,st,dt,pt,mt,lt,ct,z,P,nt],styles:["[_nghost-%COMP%]{width:100%;margin-right:auto;margin-left:auto;padding-right:1rem;padding-left:1rem}@media (min-width: 640px){[_nghost-%COMP%]{max-width:640px}}@media (min-width: 768px){[_nghost-%COMP%]{max-width:768px}}@media (min-width: 1024px){[_nghost-%COMP%]{max-width:1024px}}@media (min-width: 1280px){[_nghost-%COMP%]{max-width:1280px}}@media (min-width: 1536px){[_nghost-%COMP%]{max-width:1536px}}[_nghost-%COMP%]{display:block}[_nghost-%COMP%] > [_ngcontent-%COMP%]:not([hidden]) ~ [_ngcontent-%COMP%]:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}[_nghost-%COMP%]{padding-top:1rem;padding-bottom:1rem}"],changeDetection:0});let t=a;return t})();export{oe as PostDetailComponent};
