import{$ as be,A as S,Aa as je,B as P,Ba as ze,C as O,Ca as $e,D as G,Da as Pt,E as ie,Ea as M,F as Ct,Fa as He,G as N,Ga as Ge,H as oe,Ha as Ke,I as se,Ia as Je,J as ae,Ja as B,K as ce,Ka as Ot,L as K,La as Nt,M as J,Ma as Rt,N as q,Na as qe,O as Y,Oa as Ye,P as ue,Q as le,R as Q,S as de,T as fe,U as he,V as pe,W as ge,X as _e,Y as me,Z as ve,_ as ye,a as $,aa as Ee,ba as Ae,c as mt,ca as xe,da as Se,e as D,ea as we,f as te,fa as Ie,g as vt,ga as Ce,h as yt,ha as Pe,ia as Oe,j as bt,ja as Ne,k as Et,ka as Re,la as Te,ma as ke,n as At,o as H,oa as De,p as xt,pa as Le,q as St,qa as R,r as wt,ra as y,s as It,sa as Me,t as A,ta as w,u as E,ua as Be,v as ne,va as We,w as x,wa as Fe,x as L,xa as Ue,y as _,ya as Ve,z as re,za as I}from"./chunk-OAMQ53XU.js";import{f as l}from"./chunk-CQCHLVVT.js";function W(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!Xt(t)||(n[t]=W(n[t],e[t]));return n}function Xt(n){return n!=="__proto__"}function Tt(){return typeof self=="object"&&self.self===self}var Zt="FirebaseError",Xe=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Zt,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}},T=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?en(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Xe(i,c,r)}};function en(n,e){return n.replace(tn,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var tn=/\{\$([^}]+)}/g;function et(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function kt(n,e){let t=new Ze(n,e);return t.subscribe.bind(t)}var Ze=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");nn(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qe),i.error===void 0&&(i.error=Qe),i.complete===void 0&&(i.complete=Qe);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function nn(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qe(){}var or=4*60*60*1e3;var tt=class{constructor(e,t){this._delegate=e,this.firebase=t,te(e,new $("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),At(this._delegate)))}_getService(e,t=D){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=D){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){te(this._delegate,e)}_addOrOverwriteComponent(e){vt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var rn={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},Dt=new T("app-compat","Firebase",rn);function on(n){let e={},t={__esModule:!0,initializeApp:o,app:i,registerVersion:H,setLogLevel:St,onLog:xt,apps:null,SDK_VERSION:bt,INTERNAL:{registerComponent:c,removeApp:r,useAsService:d,modularAPIs:wt}};t.default=t,Object.defineProperty(t,"apps",{get:s});function r(u){delete e[u]}function i(u){if(u=u||D,!et(e,u))throw Dt.create("no-app",{appName:u});return e[u]}i.App=n;function o(u,f={}){let a=Et(u,f);if(et(e,a.name))return e[a.name];let h=new n(a,t);return e[a.name]=h,h}function s(){return Object.keys(e).map(u=>e[u])}function c(u){let f=u.name,a=f.replace("-compat","");if(yt(u)&&u.type==="PUBLIC"){let h=(v=i())=>{if(typeof v[a]!="function")throw Dt.create("invalid-app-argument",{appName:f});return v[a]()};u.serviceProps!==void 0&&W(h,u.serviceProps),t[a]=h,n.prototype[a]=function(...v){return this._getService.bind(this,f).apply(this,u.multipleInstances?v:[])}}return u.type==="PUBLIC"?t[a]:null}function d(u,f){return f==="serverAuth"?null:f}return t}function Mt(){let n=on(tt);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:Mt,extendNamespace:e,createSubscribe:kt,ErrorFactory:T,deepExtend:W});function e(t){W(n,t)}return n}var sn=Mt();var Lt=new mt("@firebase/app-compat"),an="@firebase/app-compat",cn="0.2.24";function un(n){H(an,cn,n)}if(Tt()&&self.firebase!==void 0){Lt.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&Lt.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var X=sn;un();function C(){return window}var ln=2e3;function dn(n,e,t){return l(this,null,function*(){var r;let{BuildInfo:i}=C();re(e.sessionId,"AuthEvent did not contain a session ID");let o=yield _n(e.sessionId),s={};return ie()?s.ibi=i.packageName:G()?s.apn=i.packageName:x(n,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,Rt(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,s)})}function fn(n){return l(this,null,function*(){let{BuildInfo:e}=C(),t={};ie()?t.iosBundleId=e.packageName:G()?t.androidPackageName=e.packageName:x(n,"operation-not-supported-in-this-environment"),yield Nt(n,t)})}function hn(n){let{cordova:e}=C();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,Ct()?"_blank":"_system","location=yes"),t(i)})})}function pn(n,e,t){return l(this,null,function*(){let{cordova:r}=C(),i=()=>{};try{yield new Promise((o,s)=>{let c=null;function d(){var a;o();let h=(a=r.plugins.browsertab)===null||a===void 0?void 0:a.close;typeof h=="function"&&h(),typeof t?.close=="function"&&t.close()}function u(){c||(c=window.setTimeout(()=>{s(L(n,"redirect-cancelled-by-user"))},ln))}function f(){document?.visibilityState==="visible"&&u()}e.addPassiveListener(d),document.addEventListener("resume",u,!1),G()&&document.addEventListener("visibilitychange",f,!1),i=()=>{e.removePassiveListener(d),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",f,!1),c&&window.clearTimeout(c)}})}finally{i()}})}function gn(n){var e,t,r,i,o,s,c,d,u,f;let a=C();_(typeof((e=a?.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),_(typeof((t=a?.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),_(typeof((o=(i=(r=a?.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||o===void 0?void 0:o.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_(typeof((d=(c=(s=a?.cordova)===null||s===void 0?void 0:s.plugins)===null||c===void 0?void 0:c.browsertab)===null||d===void 0?void 0:d.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),_(typeof((f=(u=a?.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||f===void 0?void 0:f.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function _n(n){return l(this,null,function*(){let e=mn(n),t=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")})}function mn(n){if(re(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);let e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}var vn=20,nt=class extends Ot{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){return l(this,null,function*(){yield this.initPromise})}};function yn(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:An(),postBody:null,tenantId:n.tenantId,error:L(n,"no-auth-event")}}function bn(n,e){return rt()._set(it(n),e)}function Bt(n){return l(this,null,function*(){let e=yield rt()._get(it(n));return e&&(yield rt()._remove(it(n))),e})}function En(n,e){var t,r;let i=Sn(e);if(i.includes("/__/auth/callback")){let o=Z(i),s=o.firebaseError?xn(decodeURIComponent(o.firebaseError)):null,c=(r=(t=s?.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],d=c?L(c):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function An(){let n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<vn;t++){let r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function rt(){return S(R)}function it(n){return O("authEvent",n.config.apiKey,n.name)}function xn(n){try{return JSON.parse(n)}catch{return null}}function Sn(n){let e=Z(n),t=e.link?decodeURIComponent(e.link):void 0,r=Z(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Z(i).link||i||r||t||n}function Z(n){if(!n?.includes("?"))return{};let[e,...t]=n.split("?");return It(t.join("?"))}var wn=500,ot=class{constructor(){this._redirectPersistence=y,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=B,this._overrideRedirectResult=M}_initialize(e){return l(this,null,function*(){let t=e._key(),r=this.eventManagers.get(t);return r||(r=new nt(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r})}_openPopup(e){x(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,r,i){return l(this,null,function*(){gn(e);let o=yield this._initialize(e);yield o.initialized(),o.resetRedirect(),Pt(),yield this._originValidation(e);let s=yn(e,r,i);yield bn(e,s);let c=yield dn(e,s,t),d=yield hn(c);return pn(e,o,d)})}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fn(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:r,handleOpenURL:i,BuildInfo:o}=C(),s=setTimeout(()=>l(this,null,function*(){yield Bt(e),t.onEvent(Wt())}),wn),c=f=>l(this,null,function*(){clearTimeout(s);let a=yield Bt(e),h=null;a&&f?.url&&(h=En(a,f.url)),t.onEvent(h||Wt())});typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,c);let d=i,u=`${o.packageName.toLowerCase()}://`;C().handleOpenURL=f=>l(this,null,function*(){if(f.toLowerCase().startsWith(u)&&c({url:f}),typeof d=="function")try{d(f)}catch(a){console.error(a)}})}},Ft=ot;function Wt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:L("no-auth-event")}}function Ut(n,e){N(n)._logFramework(e)}var Cn=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Pn=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],c=n[t++],d=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},On={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,c=s?n[i+1]:0,d=i+2<n.length,u=d?n[i+2]:0,f=o>>2,a=(o&3)<<4|c>>4,h=(c&15)<<2|u>>6,v=u&63;d||(v=64,s||(h=64)),r.push(t[f],t[a],t[h],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Cn(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Pn(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let a=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||c==null||u==null||a==null)throw new st;let h=o<<2|c>>4;if(r.push(h),u!==64){let v=c<<4&240|u>>2;if(r.push(v),a!==64){let _t=u<<6&192|a;r.push(_t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},st=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var Nn=function(n){try{return On.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Rn(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Tn=()=>Rn().__FIREBASE_DEFAULTS__,kn=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Dn=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Nn(n[1]);return e&&JSON.parse(e)},Ln=()=>{try{return Tn()||kn()||Dn()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};function F(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ct(){var n;let e=(n=Ln())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Vt(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ut(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jt(){let n=F();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function ee(){try{return typeof indexedDB=="object"}catch{return!1}}var Mn="FirebaseError",b=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Mn,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,at.prototype.create)}},at=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Bn(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new b(i,c,r)}};function Bn(n,e){return n.replace(Wn,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Wn=/\{\$([^}]+)}/g;var Qr=4*60*60*1e3;var Fn="@firebase/auth-compat",Un="0.5.0";var Vn=1e3;function j(){var n;return((n=self?.location)===null||n===void 0?void 0:n.protocol)||null}function jn(){return j()==="http:"||j()==="https:"}function Ht(n=F()){return!!((j()==="file:"||j()==="ionic:"||j()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function zn(){return ut()||ct()}function $n(){return jt()&&document?.documentMode===11}function Hn(n=F()){return/Edge\/\d+/.test(n)}function Gn(n=F()){return $n()||Hn(n)}function Gt(){try{let n=self.localStorage,e=Me();if(n)return n.setItem(e,"1"),n.removeItem(e),Gn()?ee():!0}catch{return gt()&&ee()}return!1}function gt(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function lt(){return(jn()||Vt()||Ht())&&!zn()&&Gt()&&!gt()}function Kt(){return Ht()&&typeof document<"u"}function Kn(){return l(this,null,function*(){return Kt()?new Promise(n=>{let e=setTimeout(()=>{n(!1)},Vn);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1})}function Jn(){return typeof window<"u"?window:null}var g={LOCAL:"local",NONE:"none",SESSION:"session"},U=_,Jt="persistence";function qn(n,e){if(U(Object.values(g).includes(e),n,"invalid-persistence-type"),ut()){U(e!==g.SESSION,n,"unsupported-persistence-type");return}if(ct()){U(e===g.NONE,n,"unsupported-persistence-type");return}if(gt()){U(e===g.NONE||e===g.LOCAL&&ee(),n,"unsupported-persistence-type");return}U(e===g.NONE||Gt(),n,"unsupported-persistence-type")}function dt(n){return l(this,null,function*(){yield n._initializationPromise;let e=qt(),t=O(Jt,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())})}function Yn(n,e){let t=qt();if(!t)return[];let r=O(Jt,n,e);switch(t.getItem(r)){case g.NONE:return[P];case g.LOCAL:return[w,y];case g.SESSION:return[y];default:return[]}}function qt(){var n;try{return((n=Jn())===null||n===void 0?void 0:n.sessionStorage)||null}catch{return null}}var Qn=_,m=class{constructor(){this.browserResolver=S(qe),this.cordovaResolver=S(Ft),this.underlyingResolver=null,this._redirectPersistence=y,this._completeRedirectFn=B,this._overrideRedirectResult=M}_initialize(e){return l(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)})}_openPopup(e,t,r,i){return l(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)})}_openRedirect(e,t,r,i){return l(this,null,function*(){return yield this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)})}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Kt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qn(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){return l(this,null,function*(){if(this.underlyingResolver)return;let e=yield Kn();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver})}};function Yt(n){return n.unwrap()}function Xn(n){return n.wrapped()}function Zn(n){return Qt(n)}function er(n,e){var t;let r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if(e?.code==="auth/multi-factor-auth-required"){let i=e;i.resolver=new ht(n,De(n,e))}else if(r){let i=Qt(e),o=e;i&&(o.credential=i,o.tenantId=r.tenantId||void 0,o.email=r.email||void 0,o.phoneNumber=r.phoneNumber||void 0)}}function Qt(n){let{_tokenResponse:e}=n instanceof b?n.customData:n;if(!e)return null;if(!(n instanceof b)&&"temporaryProof"in e&&"phoneNumber"in e)return I.credentialFromResult(n);let t=e.providerId;if(!t||t===A.PASSWORD)return null;let r;switch(t){case A.GOOGLE:r=q;break;case A.FACEBOOK:r=J;break;case A.GITHUB:r=Y;break;case A.TWITTER:r=Q;break;default:let{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:c,nonce:d}=e;return!o&&!s&&!i&&!c?null:c?t.startsWith("saml.")?ue._create(t,c):ae._fromParams({providerId:t,signInMethod:t,pendingToken:c,idToken:i,accessToken:o}):new K(t).credential({idToken:i,accessToken:o,rawNonce:d})}return n instanceof b?r.credentialFromError(n):r.credentialFromResult(n)}function p(n,e){return e.catch(t=>{throw t instanceof b&&er(n,t),t}).then(t=>{let r=t.operationType,i=t.user;return{operationType:r,credential:Zn(t),additionalUserInfo:ke(t),user:k.getOrCreate(i)}})}function ft(n,e){return l(this,null,function*(){let t=yield e;return{verificationId:t.verificationId,confirm:r=>p(n,t.confirm(r))}})}var ht=class{constructor(e,t){this.resolver=t,this.auth=Xn(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return p(Yt(this.auth),this.resolver.resolveSignIn(e))}};var k=class n{constructor(e){this._delegate=e,this.multiFactor=Le(e)}static getOrCreate(e){return n.USER_MAP.has(e)||n.USER_MAP.set(e,new n(e)),n.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){return l(this,null,function*(){return p(this.auth,pe(this._delegate,e))})}linkWithPhoneNumber(e,t){return l(this,null,function*(){return ft(this.auth,Fe(this._delegate,e,t))})}linkWithPopup(e){return l(this,null,function*(){return p(this.auth,$e(this._delegate,e,m))})}linkWithRedirect(e){return l(this,null,function*(){return yield dt(N(this.auth)),Ke(this._delegate,e,m)})}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){return l(this,null,function*(){return p(this.auth,ge(this._delegate,e))})}reauthenticateWithPhoneNumber(e,t){return ft(this.auth,Ue(this._delegate,e,t))}reauthenticateWithPopup(e){return p(this.auth,ze(this._delegate,e,m))}reauthenticateWithRedirect(e){return l(this,null,function*(){return yield dt(N(this.auth)),Ge(this._delegate,e,m)})}sendEmailVerification(e){return Pe(this._delegate,e)}unlink(e){return l(this,null,function*(){return yield fe(this._delegate,e),this})}updateEmail(e){return Re(this._delegate,e)}updatePassword(e){return Te(this._delegate,e)}updatePhoneNumber(e){return Ve(this._delegate,e)}updateProfile(e){return Ne(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Oe(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};k.USER_MAP=new WeakMap;var V=_,zt=(()=>{class n{constructor(t,r){if(this.app=t,r.isInitialized()){this._delegate=r.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:i}=t.options;V(i,"invalid-api-key",{appName:t.name}),V(i,"invalid-api-key",{appName:t.name});let o=typeof window<"u"?m:void 0;this._delegate=r.initialize({options:{persistence:tr(i,t.name),popupRedirectResolver:o}}),this._delegate._updateErrorMap(ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?k.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,r){oe(this._delegate,t,r)}applyActionCode(t){return ye(this._delegate,t)}checkActionCode(t){return be(this._delegate,t)}confirmPasswordReset(t,r){return ve(this._delegate,t,r)}createUserWithEmailAndPassword(t,r){return l(this,null,function*(){return p(this._delegate,Ae(this._delegate,t,r))})}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return Ce(this._delegate,t)}isSignInWithEmailLink(t){return we(this._delegate,t)}getRedirectResult(){return l(this,null,function*(){V(lt(),this._delegate,"operation-not-supported-in-this-environment");let t=yield Je(this._delegate,m);return t?p(this._delegate,Promise.resolve(t)):{credential:null,user:null}})}addFrameworkForLogging(t){Ut(this._delegate,t)}onAuthStateChanged(t,r,i){let{next:o,error:s,complete:c}=$t(t,r,i);return this._delegate.onAuthStateChanged(o,s,c)}onIdTokenChanged(t,r,i){let{next:o,error:s,complete:c}=$t(t,r,i);return this._delegate.onIdTokenChanged(o,s,c)}sendSignInLinkToEmail(t,r){return Se(this._delegate,t,r)}sendPasswordResetEmail(t,r){return me(this._delegate,t,r||void 0)}setPersistence(t){return l(this,null,function*(){qn(this._delegate,t);let r;switch(t){case g.SESSION:r=y;break;case g.LOCAL:r=(yield S(w)._isAvailable())?w:R;break;case g.NONE:r=P;break;default:return x("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(r)})}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return p(this._delegate,de(this._delegate))}signInWithCredential(t){return p(this._delegate,he(this._delegate,t))}signInWithCustomToken(t){return p(this._delegate,_e(this._delegate,t))}signInWithEmailAndPassword(t,r){return p(this._delegate,xe(this._delegate,t,r))}signInWithEmailLink(t,r){return p(this._delegate,Ie(this._delegate,t,r))}signInWithPhoneNumber(t,r){return ft(this._delegate,We(this._delegate,t,r))}signInWithPopup(t){return l(this,null,function*(){return V(lt(),this._delegate,"operation-not-supported-in-this-environment"),p(this._delegate,je(this._delegate,t,m))})}signInWithRedirect(t){return l(this,null,function*(){return V(lt(),this._delegate,"operation-not-supported-in-this-environment"),yield dt(this._delegate),He(this._delegate,t,m)})}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return Ee(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return n.Persistence=g,n})();function $t(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);let i=r;return{next:s=>i(s&&k.getOrCreate(s)),error:e,complete:t}}function tr(n,e){let t=Yn(n,e);if(typeof self<"u"&&!t.includes(w)&&t.push(w),typeof window<"u")for(let r of[R,y])t.includes(r)||t.push(r);return t.includes(P)||t.push(P),t}var z=class{constructor(){this.providerId="phone",this._delegate=new I(Yt(X.auth()))}static credential(e,t){return I.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}};z.PHONE_SIGN_IN_METHOD=I.PHONE_SIGN_IN_METHOD;z.PROVIDER_ID=I.PROVIDER_ID;var nr=_,pt=class{constructor(e,t,r=X.app()){var i;nr((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Be(r.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var rr="auth-compat";function ir(n){n.INTERNAL.registerComponent(new $(rr,e=>{let t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new zt(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:E.EMAIL_SIGNIN,PASSWORD_RESET:E.PASSWORD_RESET,RECOVER_EMAIL:E.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:E.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:E.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:E.VERIFY_EMAIL}},EmailAuthProvider:ce,FacebookAuthProvider:J,GithubAuthProvider:Y,GoogleAuthProvider:q,OAuthProvider:K,SAMLAuthProvider:le,PhoneAuthProvider:z,PhoneMultiFactorGenerator:Ye,RecaptchaVerifier:pt,TwitterAuthProvider:Q,Auth:zt,AuthCredential:se,Error:b}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(Fn,Un)}ir(X);export{X as a};
