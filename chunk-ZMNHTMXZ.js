import{D as vt,E as Et,F as J,Fa as Ee,H as E,fb as ye,ua as ve,w as It}from"./chunk-SU2L6IEG.js";import{Aa as K,Ea as k,Ja as mt,Vb as gt,Wb as _t,_ as ht,ba as ft,c as x,ea as q,ga as pt,ia as T,j as lt,k as dt,m as _e,n as Ie,oa as G}from"./chunk-WDJ57OMU.js";import{f as o}from"./chunk-ZY7WU73K.js";var yt=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sn=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],a=t[n++],u=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},wt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],a=i+1<t.length,u=a?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,f=s>>2,p=(s&3)<<4|u>>4,m=(u&15)<<2|l>>6,w=l&63;c||(w=64,a||(m=64)),r.push(n[f],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yt(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sn(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||u==null||l==null||p==null)throw new Te;let m=s<<2|u>>4;if(r.push(m),l!==64){let w=u<<4&240|l>>2;if(r.push(w),p!==64){let z=l<<6&192|p;r.push(z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Te=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},an=function(t){let e=yt(t);return wt.encodeByteArray(e,!0)},Ae=function(t){return an(t).replace(/\./g,"")},Se=function(t){try{return wt.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function on(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cn=()=>on().__FIREBASE_DEFAULTS__,un=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ln=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Se(t[1]);return e&&JSON.parse(e)},dn=()=>{try{return cn()||un()||ln()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};var Tt=t=>{var e;return(e=dn())===null||e===void 0?void 0:e[`_${t}`]};function g(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function At(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function St(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rt(){try{return typeof indexedDB=="object"}catch{return!1}}function Pt(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hn="FirebaseError",_=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hn,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}},I=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?fn(s,r):"Error",u=`${this.serviceName}: ${a} (${i}).`;return new _(i,u,r)}};function fn(t,e){return t.replace(pn,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pn=/\{\$([^}]+)}/g;function Re(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kt(t,e){let n=new be(t,e);return n.subscribe.bind(n)}var be=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mn(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=we),i.error===void 0&&(i.error=we),i.complete===void 0&&(i.complete=we);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mn(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function we(){}var us=4*60*60*1e3;function O(t){return t&&t._delegate?t._delegate:t}var v=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var gn=[],h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(h||{}),_n={debug:h.DEBUG,verbose:h.VERBOSE,info:h.INFO,warn:h.WARN,error:h.ERROR,silent:h.SILENT},In=h.INFO,vn={[h.DEBUG]:"log",[h.VERBOSE]:"log",[h.INFO]:"info",[h.WARN]:"warn",[h.ERROR]:"error"},En=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=vn[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},C=class{constructor(e){this.name=e,this._logLevel=In,this._logHandler=En,this._userLogHandler=null,gn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in h))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_n[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,h.DEBUG,...e),this._logHandler(this,h.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,h.VERBOSE,...e),this._logHandler(this,h.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,h.INFO,...e),this._logHandler(this,h.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,h.WARN,...e),this._logHandler(this,h.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,h.ERROR,...e),this._logHandler(this,h.ERROR,...e)}};var ke=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wn(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function wn(t){let e=t.getComponent();return e?.type==="VERSION"}var Oe="@firebase/app",Ot="0.9.28";var b=new C("@firebase/app"),Tn="@firebase/app-compat",bn="@firebase/analytics-compat",An="@firebase/analytics",Sn="@firebase/app-check-compat",Rn="@firebase/app-check",Pn="@firebase/auth",kn="@firebase/auth-compat",On="@firebase/database",Cn="@firebase/database-compat",Nn="@firebase/functions",Dn="@firebase/functions-compat",Ln="@firebase/installations",Mn="@firebase/installations-compat",Un="@firebase/messaging",xn="@firebase/messaging-compat",Fn="@firebase/performance",Vn="@firebase/performance-compat",Wn="@firebase/remote-config",$n="@firebase/remote-config-compat",Hn="@firebase/storage",jn="@firebase/storage-compat",Bn="@firebase/firestore",zn="@firebase/firestore-compat",qn="firebase",Gn="10.8.1";var Kn={[Oe]:"fire-core",[Tn]:"fire-core-compat",[An]:"fire-analytics",[bn]:"fire-analytics-compat",[Rn]:"fire-app-check",[Sn]:"fire-app-check-compat",[Pn]:"fire-auth",[kn]:"fire-auth-compat",[On]:"fire-rtdb",[Cn]:"fire-rtdb-compat",[Nn]:"fire-fn",[Dn]:"fire-fn-compat",[Ln]:"fire-iid",[Mn]:"fire-iid-compat",[Un]:"fire-fcm",[xn]:"fire-fcm-compat",[Fn]:"fire-perf",[Vn]:"fire-perf-compat",[Wn]:"fire-rc",[$n]:"fire-rc-compat",[Hn]:"fire-gcs",[jn]:"fire-gcs-compat",[Bn]:"fire-fst",[zn]:"fire-fst-compat","fire-js":"fire-js",[qn]:"fire-js-all"};var Jn=new Map,Ct=new Map;function Yn(t,e){try{t.container.addComponent(e)}catch(n){b.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function D(t){let e=t.name;if(Ct.has(e))return b.debug(`There were multiple attempts to register component ${e}.`),!1;Ct.set(e,t);for(let n of Jn.values())Yn(n,t);return!0}var Xn={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},De=new I("app","Firebase",Xn);var Y=Gn;function N(t,e,n){var r;let i=(r=Kn[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){let u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),b.warn(u.join(" "));return}D(new v(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Zn="firebase-heartbeat-database",Qn=1,F="firebase-heartbeat-store",Pe=null;function Mt(){return Pe||(Pe=It(Zn,Qn,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(F)}catch(n){console.warn(n)}}}}).catch(t=>{throw De.create("idb-open",{originalErrorMessage:t.message})})),Pe}function er(t){return o(this,null,function*(){try{let n=(yield Mt()).transaction(F),r=yield n.objectStore(F).get(Ut(t));return yield n.done,r}catch(e){if(e instanceof _)b.warn(e.message);else{let n=De.create("idb-get",{originalErrorMessage:e?.message});b.warn(n.message)}}})}function Nt(t,e){return o(this,null,function*(){try{let r=(yield Mt()).transaction(F,"readwrite");yield r.objectStore(F).put(e,Ut(t)),yield r.done}catch(n){if(n instanceof _)b.warn(n.message);else{let r=De.create("idb-set",{originalErrorMessage:n?.message});b.warn(r.message)}}})}function Ut(t){return`${t.name}!${t.options.appId}`}var tr=1024,nr=30*24*60*60*1e3,Ce=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ne(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return o(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Dt();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{let u=new Date(a.date).valueOf();return Date.now()-u<=nr}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return o(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Dt(),{heartbeatsToSend:r,unsentEntries:i}=rr(this._heartbeatsCache.heartbeats),s=Ae(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Dt(){return new Date().toISOString().substring(0,10)}function rr(t,e=tr){let n=[],r=t.slice();for(let i of t){let s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Lt(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lt(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ne=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return o(this,null,function*(){return Rt()?Pt().then(()=>!0).catch(()=>!1):!1})}read(){return o(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield er(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return o(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Nt(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return o(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Nt(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Lt(t){return Ae(JSON.stringify({version:2,heartbeats:t})).length}function ir(t){D(new v("platform-logger",e=>new ke(e),"PRIVATE")),D(new v("heartbeat",e=>new Ce(e),"PRIVATE")),N(Oe,Ot,t),N(Oe,Ot,"esm2017"),N("fire-js","")}ir("");function Le(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function zt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var qt=zt,Gt=new I("auth","Firebase",zt());var Q=new C("@firebase/auth");function sr(t,...e){Q.logLevel<=h.WARN&&Q.warn(`Auth (${Y}): ${t}`,...e)}function Z(t,...e){Q.logLevel<=h.ERROR&&Q.error(`Auth (${Y}): ${t}`,...e)}function xe(t,...e){throw Ye(t,...e)}function Je(t,...e){return Ye(t,...e)}function ar(t,e,n){let r=Object.assign(Object.assign({},qt()),{[e]:n});return new I("auth","Firebase",r).create(e,{appName:t.name})}function Ye(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gt.create(t,...e)}function d(t,e,...n){if(!t)throw Ye(e,...n)}function V(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Z(e),new Error(e)}function ee(t,e){t||V(e)}function or(){return xt()==="http:"||xt()==="https:"}function xt(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function cr(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(or()||At()||"connection"in navigator)?navigator.onLine:!0}function ur(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var S=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ee(n>e,"Short delay should be less than long delay!"),this.isMobile=bt()||St()}get(){return cr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function lr(t,e){ee(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var te=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var dr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var hr=new S(3e4,6e4);function oe(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function L(s,a,u,c){return o(this,arguments,function*(t,e,n,r,i={}){return Kt(t,i,()=>o(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Re(Object.assign({key:t.config.apiKey},f)).slice(1),m=yield t._getAdditionalHeaders();return m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode),te.fetch()(Jt(t,t.config.apiHost,n,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},l))}))})}function Kt(t,e,n){return o(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},dr),e);try{let i=new Fe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let a=yield s.json();if("needConfirmation"in a)throw X(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{let u=s.ok?a.errorMessage:a.error.message,[c,l]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw X(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw X(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw X(t,"user-disabled",a);let f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw ar(t,f,l);xe(t,f)}}catch(i){if(i instanceof _)throw i;xe(t,"network-request-failed",{message:String(i)})}})}function fr(s,a,u,c){return o(this,arguments,function*(t,e,n,r,i={}){let l=yield L(t,e,n,r,i);return"mfaPendingCredential"in l&&xe(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Jt(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?lr(t.config,i):`${t.config.apiScheme}://${i}`}function pr(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Fe=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Je(this.auth,"network-request-failed")),hr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function X(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Je(t,e,r);return i.customData._tokenResponse=n,i}function Ft(t){return t!==void 0&&t.enterprise!==void 0}var Ve=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pr(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function mr(t,e){return o(this,null,function*(){return L(t,"GET","/v2/recaptchaConfig",oe(t,e))})}function gr(t,e){return o(this,null,function*(){return L(t,"POST","/v1/accounts:delete",e)})}function _r(t,e){return o(this,null,function*(){return L(t,"POST","/v1/accounts:lookup",e)})}function W(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Yt(t,e=!1){return o(this,null,function*(){let n=O(t),r=yield n.getIdToken(e),i=Xt(r);d(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:W(Me(i.auth_time)),issuedAtTime:W(Me(i.iat)),expirationTime:W(Me(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Me(t){return Number(t)*1e3}function Xt(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Z("JWT malformed, contained fewer than 3 sections"),null;try{let i=Se(n);return i?JSON.parse(i):(Z("Failed to decode base64 JWT payload"),null)}catch(i){return Z("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ir(t){let e=Xt(t);return d(e,"internal-error"),d(typeof e.exp<"u","internal-error"),d(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function We(t,e,n=!1){return o(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof _&&vr(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function vr({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var $e=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>o(this,null,function*(){yield this.iteration()}),n)}iteration(){return o(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ne=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=W(this.lastLoginAt),this.creationTime=W(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function re(t){return o(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield We(t,_r(n,{idToken:r}));d(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yr(s.providerUserInfo):[],u=Er(t.providerData,a),c=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!u?.length,f=c?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new ne(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Zt(t){return o(this,null,function*(){let e=O(t);yield re(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Er(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yr(t){return t.map(e=>{var{providerId:n}=e,r=Le(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wr(t,e){return o(this,null,function*(){let n=yield Kt(t,{},()=>o(this,null,function*(){let r=Re({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=Jt(t,i,"/v1/token",`key=${s}`),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(a,{method:"POST",headers:u,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Tr(t,e){return o(this,null,function*(){return L(t,"POST","/v2/accounts:revokeToken",oe(t,e))})}var ie=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){d(e.idToken,"internal-error"),d(typeof e.idToken<"u","internal-error"),d(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ir(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return o(this,null,function*(){return d(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return o(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield wr(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new t;return r&&(d(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(d(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(d(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return V("not implemented")}};function y(t,e){d(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var $=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Le(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ne(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return o(this,null,function*(){let n=yield We(this,this.stsTokenManager.getToken(this.auth,e));return d(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Yt(this,e)}reload(){return Zt(this)}_assign(e){this!==e&&(d(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){d(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return o(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield re(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return o(this,null,function*(){let e=yield this.getIdToken();return yield We(this,gr(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,u,c,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,z=(a=n.photoURL)!==null&&a!==void 0?a:void 0,it=(u=n.tenantId)!==null&&u!==void 0?u:void 0,fe=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,st=(l=n.createdAt)!==null&&l!==void 0?l:void 0,at=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:pe,emailVerified:ot,isAnonymous:ct,providerData:me,stsTokenManager:ut}=n;d(pe&&ut,e,"internal-error");let nn=ie.fromJSON(this.name,ut);d(typeof pe=="string",e,"internal-error"),y(p,e.name),y(m,e.name),d(typeof ot=="boolean",e,"internal-error"),d(typeof ct=="boolean",e,"internal-error"),y(w,e.name),y(z,e.name),y(it,e.name),y(fe,e.name),y(st,e.name),y(at,e.name);let ge=new t({uid:pe,auth:e,email:m,emailVerified:ot,displayName:p,isAnonymous:ct,photoURL:z,phoneNumber:w,tenantId:it,stsTokenManager:nn,createdAt:st,lastLoginAt:at});return me&&Array.isArray(me)&&(ge.providerData=me.map(rn=>Object.assign({},rn))),fe&&(ge._redirectEventId=fe),ge}static _fromIdTokenResponse(e,n,r=!1){return o(this,null,function*(){let i=new ie;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield re(s),s})}};var Vt=new Map;function A(t){ee(t instanceof Function,"Expected a class definition");let e=Vt.get(t);return e?(ee(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Vt.set(t,e),e)}var br=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return o(this,null,function*(){return!0})}_set(n,r){return o(this,null,function*(){this.storage[n]=r})}_get(n){return o(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return o(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),He=br;function Ue(t,e,n){return`firebase:${t}:${e}:${n}`}var se=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Ue(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ue("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return o(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?$._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return o(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return o(this,null,function*(){if(!n.length)return new t(A(He),e,r);let i=(yield Promise.all(n.map(l=>o(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||A(He),a=Ue(r,e.config.apiKey,e.name),u=null;for(let l of n)try{let f=yield l._get(a);if(f){let p=$._fromJSON(e,f);l!==s&&(u=p),s=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],u&&(yield s._set(a,u.toJSON())),yield Promise.all(n.map(l=>o(this,null,function*(){if(l!==s)try{yield l._remove(a)}catch{}}))),new t(s,e,r))})}};function Wt(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pr(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ar(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Or(e))return"Blackberry";if(Cr(e))return"Webos";if(Sr(e))return"Safari";if((e.includes("chrome/")||Rr(e))&&!e.includes("edge/"))return"Chrome";if(kr(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Ar(t=g()){return/firefox\//i.test(t)}function Sr(t=g()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rr(t=g()){return/crios\//i.test(t)}function Pr(t=g()){return/iemobile/i.test(t)}function kr(t=g()){return/android/i.test(t)}function Or(t=g()){return/blackberry/i.test(t)}function Cr(t=g()){return/webos/i.test(t)}function Qt(t,e=[]){let n;switch(t){case"Browser":n=Wt(g());break;case"Worker":n=`${Wt(g())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Y}/${r}`}var je=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((a,u)=>{try{let c=e(s);a(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return o(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Nr(n){return o(this,arguments,function*(t,e={}){return L(t,"GET","/v2/passwordPolicy",oe(t,e))})}var Dr=6,Be=class{constructor(e){var n,r,i,s;let a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:Dr,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,u;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNumericCharacter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(u=c.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ze=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ae(this),this.idTokenSubscription=new ae(this),this.beforeStateQueue=new je(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gt,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=A(n)),this._initializationPromise=this.queue(()=>o(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield se.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return o(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return o(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,u=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return d(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return o(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return o(this,null,function*(){try{yield re(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ur()}_delete(){return o(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return o(this,null,function*(){let n=e?O(e):null;return n&&d(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return o(this,null,function*(){if(!this._deleted)return e&&d(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>o(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return o(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>o(this,null,function*(){yield this.assertedPersistence.setPersistence(A(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return o(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return o(this,null,function*(){let e=yield Nr(this),n=new Be(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new I("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return o(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Tr(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return o(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return o(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&A(e)||this._popupRedirectResolver;d(n,this,"argument-error"),this.redirectPersistenceManager=yield se.create(this,[A(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return o(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>o(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return o(this,null,function*(){if(e===this.currentUser)return this.queue(()=>o(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),a=!1,u=this._isInitialized?Promise.resolve():this._initializationPromise;if(d(u,this,"internal-error"),u.then(()=>{a||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{let c=e.addObserver(n);return()=>{a=!0,c()}}}directlySetCurrentUser(e){return o(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return d(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Qt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return o(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return o(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&sr(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ce(t){return O(t)}var ae=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=kt(n=>this.observer=n)}get next(){return d(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xe={loadJS(){return o(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lr(t){Xe=t}function Mr(t){return Xe.loadJS(t)}function Ur(){return Xe.recaptchaEnterpriseScript}function xr(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Fr="recaptcha-enterprise",Vr="NO_RECAPTCHA",qe=class{constructor(e){this.type=Fr,this.auth=ce(e)}verify(e="verify",n=!1){return o(this,null,function*(){function r(s){return o(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((a,u)=>o(this,null,function*(){mr(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{let l=new Ve(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,a(l.siteKey)}}).catch(c=>{u(c)})}))})}function i(s,a,u){let c=window.grecaptcha;Ft(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(l=>{a(l)}).catch(()=>{a(Vr)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(u=>{if(!n&&Ft(window.grecaptcha))i(u,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Ur();c.length!==0&&(c+=u),Mr(c).then(()=>{i(u,s,a)}).catch(l=>{a(l)})}}).catch(u=>{a(u)})})})}};function $t(t,e,n,r=!1){return o(this,null,function*(){let i=new qe(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function Wr(t,e,n,r){return o(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $t(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>o(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let a=yield $t(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)}))})}function $r(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(A);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Hr(t,e){return o(this,null,function*(){return fr(t,"POST","/v1/accounts:signUp",oe(t,e))})}var Ge=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return o(this,null,function*(){let s=yield $._fromIdTokenResponse(e,r,i),a=Ht(r);return new t({user:s,providerId:a,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return o(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ht(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Ht(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function jr(t){return o(this,null,function*(){let e=ce(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Br(t,e,n){return o(this,null,function*(){let r=ce(t),a=yield Wr(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Hr).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&jr(t),c}),u=yield Ge._fromIdTokenResponse(r,"signIn",a);return yield r._updateCurrentUser(u.user),u})}function Ze(t,e,n,r){return O(t).onIdTokenChanged(e,n,r)}var $s=xr("rcb"),Hs=new S(3e4,6e4);var js=new S(2e3,1e4);var Bs=10*60*1e3;var zs=new S(3e4,6e4);var qs=new S(5e3,15e3);var Gs=encodeURIComponent("fac");var jt="@firebase/auth",Bt="1.6.1";var Ke=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return o(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){d(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function zr(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qr(t){D(new v("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:u}=r.options;d(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:a,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Qt(t)},l=new ze(r,i,s,c);return $r(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),D(new v("auth-internal",e=>{let n=ce(e.getProvider("auth").getImmediate());return(r=>new Ke(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),N(jt,Bt,zr(t)),N(jt,Bt,"esm2017")}var Gr=5*60,Ks=Tt("authIdTokenMaxAge")||Gr;function Kr(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Lr({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Je("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Kr().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qr("Browser");var Xr="firebase",Zr="10.13.0";E(Xr,Zr,"app");var H=new gt("ANGULARFIRE2_VERSION");function en(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(a=>a.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var et=(t,e)=>{let n=e?[e]:J(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},ue=class{constructor(){return et(Qr)}},Qr="app-check";function M(){}var le=class{zone;delegate;constructor(e,n=dt){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(a){i.runGuarded(()=>{e.apply(this,[a])})};return this.delegate.schedule(s,n,r)}},Qe=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",M,{},M,M)),n.pipe(ht({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},de=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new le(Zone.current)),this.insideAngular=n.run(()=>new le(Zone.current,lt)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(pt(k))};static \u0275prov=ft({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function he(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ei(t){return he().ngZone.runOutsideAngular(()=>t())}function R(t){return he().ngZone.run(()=>t())}function ti(t){return ni(he())(t)}function ni(t){return function(n){return n=n.lift(new Qe(t.ngZone)),n.pipe(Ie(t.outsideAngular),_e(t.insideAngular))}}var ri=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),R(()=>t.apply(void 0,r))},U=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=R(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",M,{},M,M))),r[s]=ri(r[s],n));let i=ei(()=>t.apply(this,r));if(!e)if(i instanceof x){let s=he();return i.pipe(Ie(s.outsideAngular),_e(s.insideAngular))}else return R(()=>i);return i instanceof x?i.pipe(ti):i instanceof Promise?R(()=>new Promise((s,a)=>i.then(u=>R(()=>s(u)),u=>R(()=>a(u))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:R(()=>i)};var P=class{constructor(e){return e}},j=class{constructor(){return J()}};function ii(t){return t&&t.length===1?t[0]:new P(Et())}var tt=new q("angularfire2._apps"),si={provide:P,useFactory:ii,deps:[[new T,tt]]},ai={provide:j,deps:[[new T,tt]]};function oi(t){return(e,n)=>{let r=n.get(mt);E("angularfire",H.full,"core"),E("angularfire",H.full,"app"),E("angular",_t.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new P(i)}}function Go(t,...e){return G([si,ai,{provide:tt,useFactory:oi(t),multi:!0,deps:[k,K,de,...e]}])}var Ko=U(vt,!0);function tc(t){return new x(function(e){var n=Ze(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var tn="auth",B=class{constructor(e){return e}},nt=class{constructor(){return et(tn)}};var rt=new q("angularfire2.auth-instances");function ss(t,e){let n=en(tn,t,e);return n&&new B(n)}function as(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new B(r)}}var os={provide:nt,deps:[[new T,rt]]},cs={provide:B,useFactory:ss,deps:[[new T,rt],P]};function Gc(t,...e){return E("angularfire",H.full,"auth"),G([cs,os,{provide:rt,useFactory:as(t),multi:!0,deps:[k,K,de,j,[new T,ue],...e]}])}var Kc=U(ye,!0);var Jc=U(ve,!0);var Yc=U(Ee,!0);export{H as a,en as b,et as c,ue as d,de as e,ti as f,U as g,P as h,j as i,Go as j,Ko as k,Br as l,tc as m,B as n,nt as o,Gc as p,Kc as q,Jc as r,Yc as s};
