import{A as Q,C as V,D as x,E as D,F as b,G as k,I as X,J as Y,K as Z,L as _,M as T,o as A,p as L,q as S,r as U,s as W,t as $,u as z,v as G,z as N}from"./chunk-PW764ZHW.js";import{q as O,r as P}from"./chunk-TL2J3R52.js";import{Ib as u,J as R,Ja as s,Jb as h,Na as I,Qb as j,R as y,Rb as w,Ta as E,Y as l,aa as p,ba as B,fb as M,n as a,nd as H,ob as m,od as J,pb as f,pd as K,t as n,u as F}from"./chunk-CLWO35D2.js";import{a as c}from"./chunk-ZY7WU73K.js";var tt=(()=>{let i=class i{constructor(t,e){this.data=t,this.dialogRef=e}};i.\u0275fac=function(e){return new(e||i)(I(L),I(A))},i.\u0275cmp=E({type:i,selectors:[["app-confirm-dialog"]],decls:11,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions","","align","center"],["mat-button","",3,"mat-dialog-close"],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,r){e&1&&(m(0,"h1",0),u(1),f(),m(2,"div",1),u(3),f(),m(4,"div",2)(5,"button",3),u(6),j(7,"translate"),f(),m(8,"button",4),u(9),j(10,"translate"),f()()),e&2&&(s(),h(r.data.title),s(2),h(r.data.content),s(2),M("mat-dialog-close",!1),s(),h(w(7,6,"uni.no")),s(2),M("mat-dialog-close",!0),s(),h(w(10,8,"uni.yes")))},dependencies:[G,U,W,z,$,P,O,K,J],encapsulation:2,changeDetection:0});let o=i;return o})();var et=(()=>{let i=class i{constructor(t){this.dialog=t}open(t,e){return this.dialog.open(tt,{width:"sm",data:{title:t,content:e}}).afterClosed()}};i.\u0275fac=function(e){return new(e||i)(p(S))},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var g=function(o){return o[o.Delete=0]="Delete",o[o.UnsavedWork=1]="UnsavedWork",o}(g||{}),gt=(()=>{let i=class i{constructor(t,e){this.confirm=t,this.translate=e}openCustomConfirmDialog(t){let e=this.getTitle(t),r=this.getContent(t);return this.open(e,r)}getTitle(t){switch(t){case g.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.title");case g.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.title");default:return this.translate.instant("custom-confirm-dialog.default.title")}}getContent(t){switch(t){case g.Delete:return this.translate.instant("custom-confirm-dialog.delete-post.content");case g.UnsavedWork:return this.translate.instant("custom-confirm-dialog.unsaved-work.content");default:return this.translate.instant("custom-confirm-dialog.default.content")}}open(t,e){return this.confirm.open(t,e).pipe(R(),n(r=>!!r))}};i.\u0275fac=function(e){return new(e||i)(p(et),p(H))},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();var wt=(()=>{let i=class i{constructor(){this.firestore=B(Q)}list(t){let e=x(this.firestore,"posts"),r=[Y(t.sort,t.order),X(t.limit)];t.query&&r.push(T(t.sort,">=",t.query.toLowerCase()),T(t.sort,"<=",t.query.toLowerCase()+"\uF8FF"));let it=Z(e,...r),ot=a(k(e)).pipe(n(d=>d.size)),rt=a(k(it)).pipe(n(d=>{let v=[];return d.forEach(q=>{let nt=q.data();v.push(c({id:q.id},nt))}),v}));return F([ot,rt]).pipe(n(([d,v])=>({items:v,totalCount:d})))}create(t){return a(V(x(this.firestore,"posts"),c({},t))).pipe(y(e=>a(b(e))),n(e=>{let r=e.data();return c({id:e.id},r)}))}detail(t){let e=D(this.firestore,"posts",t);return a(b(e)).pipe(n(r=>c({id:t},r.data())))}delete(t){let e=D(this.firestore,"posts",t);return a(N(e)).pipe(n(()=>{}))}patch(t,e){let r=D(this.firestore,"posts",t);return a(_(r,c({},e))).pipe(y(()=>this.detail(t)))}};i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"});let o=i;return o})();export{g as a,gt as b,wt as c};
